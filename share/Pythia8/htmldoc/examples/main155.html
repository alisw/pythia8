<html><head><title>main155</title>
<link rel="stylesheet" type="text/css" href="../pythia.css"/>
<link rel="shortcut icon" href="../pythia32.gif"/></head><body><h2>main155</h2>
Back to <a href="../ExampleKeywords.html" target="page">index.</a>
<pre><code class="language-c++">
// main155.cc is a part of the PYTHIA event generator.
// Copyright (C) 2024 Torbjorn Sjostrand.
// PYTHIA is licenced under the GNU GPL v2 or later, see COPYING for details.
// Please respect the MCnet Guidelines, see GUIDELINES for details.

// Authors:
//            <a href="mailto:marius.m.utheim@jyu.fi">Marius Utheim</a>

// Keywords:
//            <a href="../ExampleKeywords.html#rescattering">Rescattering</a>
//            <a href="../ExampleKeywords.html#low+energy">Low&nbsp;energy</a>
//            <a href="../ExampleKeywords.html#cross+sections">Cross&nbsp;sections</a>
//            <a href="../ExampleKeywords.html#resonances">Resonances</a>

// Calculate and plot resonance cross sections for the specified process.

#include &quot;Pythia8/Pythia.h&quot;
using namespace Pythia8;

//--------------------------------------------------------------------------

int main(int argc, char* argv[]) {

  // Initialize Pythia.
  Pythia pythia;
  pythia.readFile(&quot;main155.cmnd&quot;);
  if (!pythia.init()) {
    cout &lt;&lt; &quot; Pythia failed to initialize.&quot; &lt;&lt; endl;
    return -1;
  }

  int idA = argc == 3 ? atoi(argv[1]) : pythia.mode(&quot;Main:spareMode1&quot;);
  int idB = argc == 3 ? atoi(argv[2]) : pythia.mode(&quot;Main:spareMode2&quot;);
  double eMin = pythia.parm(&quot;Main:spareParm1&quot;);
  double eMax = pythia.parm(&quot;Main:spareParm2&quot;);
  if (eMin &lt; pythia.particleData.m0(idA) + pythia.particleData.m0(idB)) {
    eMin = pythia.particleData.m0(idA) + pythia.particleData.m0(idB);
    cout &lt;&lt; &quot;Warning, setting eMin to nominal mass sum of &quot; &lt;&lt; eMin &lt;&lt; &quot;.\n&quot;;
  }

  int nBin = 300;

  // Get possible resonances.
  set&lt;int&gt; resonances = pythia.hadronWidths.getResonances(idA, idB);

  if (resonances.size() == 0) {
    cout &lt;&lt; &quot;No resonances for input particles &quot; &lt;&lt; idA &lt;&lt; &quot; &quot; &lt;&lt; idB &lt;&lt; endl;
    return -1;
  }

  // Define plot.
  HistPlot plt(&quot;main155plot&quot;);
  plt.frame(&quot;out155plot&quot;, &quot;&quot;, &quot;$\\sqrt{s}$ [GeV]&quot;, &quot;$\\sigma$ [mb]&quot;);

  // Plot all resonances.
  for (int res : resonances) {
    Hist sigRes = Hist::plotFunc( [&amp;](double eCM) {
      return pythia.getSigmaPartial(idA, idB, eCM, res);
    }, pythia.particleData.name(res), nBin, eMin, eMax);

    plt.add(sigRes, &quot;-&quot;);
  }

  // Add total and miscellaneous cross sections at the end.
  Hist sigTot = Hist::plotFunc(
    [&amp;](double eCM) {
      // type == 0 is equivalent to getSigmaTotal.
      return pythia.getSigmaPartial(idA, idB, eCM, 0); },
    &quot;Total&quot;, nBin, eMin, eMax);
  Hist sigTotRes = Hist::plotFunc(
    [&amp;](double eCM) { return pythia.getSigmaPartial(idA, idB, eCM, 9); },
    &quot;Sum of resonances&quot;, nBin, eMin, eMax);
  Hist sigOther = sigTot - sigTotRes;

  plt.add(sigTotRes, &quot;-&quot;);
  plt.add(sigOther, &quot;-&quot;, &quot;Other&quot;);
  plt.add(sigTot, &quot;k-&quot;);

  // Plot.
  plt.plot();

  // Done.
  return 0;
}
</code></pre></body></html>